<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock - Paper - Scissors</title>
</head>
<body>
   
    <script>

        // initialize moves array
        let moves = ['rock', 'paper', 'scissors'];



        //  computer : choose move randomly

        function getComputerChoice(){
            let num = Math.floor((Math.random()*3)) ;
            // console.log(moves[num]);
            return moves[num];
            
        }

        // user : enter desired move

        function getHumanChoice(){
            let num = 0;
            while (true) {
                choice = prompt("Enter your move (rock/paper/scissors):");
                choice = choice.toLowerCase();
                if (choice === 'rock' || choice === 'scissors' || choice === 'paper'){
                    return choice;
                }else {
                    console.log("Invalid choice. Please try again");
                }

            }
        }


        
        // the whole game
        function playGame() {
            // initialize score
            let human = 0 ;
            let cpu = 0 ;

            // a single round
            function playRound(hMove, cMove){
                hMove = getHumanChoice();
                cMove = getComputerChoice()
                if (hMove === 'rock' && cMove === 'scissors' || hMove === 'scissors' && cMove === 'paper' || hMove === 'paper' && cMove === 'rock'){
                    console.log("You win !");
                    console.log(`${hMove} beats ${cMove}`);
                    human++;
                } else if (hMove === cMove){
                    console.log("It's a tie.")
                }else {
                    console.log("You lose!")
                    console.log(`${cMove} beats ${hMove}`);
                    cpu++;
                }
            }       

            for (let i = 0; i < 5; i++){
                playRound();
            }
            console.log(`YOU : ${human}\nCPU : ${cpu} `);
        }
        
        playGame();
        

    </script>
</body>
</html>